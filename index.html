<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>git - the simple guide - no deep shit!</title>
		<link href='http://fonts.googleapis.com/css?family=Chelsea+Market' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/normalize.min.css" type="text/css">
		<link rel="stylesheet" href="css/style.css" type="text/css">
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-652147-13']);
			_gaq.push(['_trackPageview']);
			(function () {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol
					? 'https://ssl'
					: 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
			function recordOutboundLink(link, category, action) {
				_gat._getTrackerByName()._trackEvent(category, action);
				setTimeout('document.location = "' + link.href + '"', 100);
			}
		</script>
	</head>
	<body>
		<div class="scrollblock block-title">
			<h1>git - 简明指南</h1>
			<p>●'◡'● 帮助从未使用过Git的同学入门Git，木有高深内容 ●'◡'●</p>
			<!-- <p class="meta">
				作者：<a href="http://www.twitter.com/rogerdudler">罗杰·杜德勒</a>
				<br/>感谢：<a href="http://www.twitter.com/tfnico">@tfnico</a>,
				<a href="http://www.twitter.com/fhd">@fhd</a>
				和
				<a href="http://www.namics.com">Namics</a><br/>
				如有纰漏，请在
				<a href="https://github.com/rogerdudler/git-guide/issues">github</a>
				提报问题
			</p> -->
			<img src="img/arrow.png" alt=""/>
		</div>
		<!-- setup -->
		<a name="setup"></a>
		<div class="scrollblock block-setup">
			<h2>安装</h2>
			<p>
				<span>
					Windows 安装：<a href="https://git-for-windows.github.io/">下载链接</a>
				</span>
				<br/>下载完成之后，一路点next安装即可。
			</p>
			<p>
				<span>
					Mac 安装：<a href="https://git-scm.com/download/mac">下载链接</a>
				</span>
				<br/>暂时无Mac上测试，请自行百度安装。
			</p>
			<p>
				<span>
					Linux 安装：sudo apt install git
				</span>
				<br/>
				上面以Ubuntu 16.04为例。
			</p>
			<p>
				安装完成之后，在控制台界面下输入
				<code>git --version</code>。<br/>若显示<code>git version 2.x.x</code>，则表示安装成功！</p>
		</div>
		<a name="key"></a>
		<div class="scrollblock block-key">
			<h2>生成密钥</h2>
			<p>
				1、检查是否存在密钥：<code>cd ~/.ssh && ls
				</code>
				<br/>
				如果有 id_rsa，id_rsa.pub 两个文件存在，那么已生成Key。直接进入第3步。
			</p>
			<p>
				2、生成密钥：如果用第一步的方法检测到你的系统没有key。
				<br/>执行<code>
					ssh-keygen -t rsa -C "YouEamil@juzix.io"
				</code>一路按3个回车，密码为空。
			</p>
			<p>
				3、添加密钥到Gitlab：登入公司的<a href="http://192.168.9.66/" target="_blank">Gitlab网页</a>，
				<br/>在右上角点头像-->Settings-->SSH-Keys。将id_ras.pub里面的内容粘贴到Key输入框里面。Title随意填。
			</p>
		</div>
		<a name="create"></a>
		<div class="scrollblock block-create">
			<h2>创建新仓库</h2>
			<p>
				创建新文件夹，打开，然后执行
				<br/>
				<code>git init</code><br/>
				以创建新的 git 仓库。
			</p>
		</div>
		<a name="checkout"></a>
		<div class="scrollblock block-checkout">
			<h2>克隆代码</h2>
			<p>
				进入Gitlab上面你需要克隆的项目，复制该项目的SSH的url，执行类似如下命令：<br/>
				<code>git clone git@192.168.9.66:lcq/my-bookmark.git</code>
			</p>
		</div>
		<a name="trees"></a>
		<div class="scrollblock block-trees">
			<h2>工作流</h2>
			<p>
				你的本地仓库由 git 维护的三棵“树”组成。第一个是你的<code>工作目录</code>，它持有实际文件；<br/>
				第二个是<code>暂存区（Index）</code>，它像个缓存区域，临时保存你的改动；<br/>
				最后是<code>HEAD</code>，它指向你最后一次提交的结果。<br/>
			</p>
			<img src="img/trees.png" alt=""/>
		</div>
		<a name="add"></a>
		<div class="scrollblock block-add">
			<h2>添加和提交</h2>
			<p>
				你可以提交所有的更改到暂存区，使用如下命令：<code>git add -A</code><br/>
				使用如下命令以实际提交改动：<code>git commit -m "你的一些修改说明"</code><br/>
				现在，你的改动已经提交到了<b>HEAD</b>，但是还没到你的远端仓库。<br/>
				当然，在执行<code>git add -A</code>之前，建议使用<code>git status</code>查看更改的文件，<code>git diff</code>可查看更改的内容。
			</p>
		</div>
		<a name="push"></a>
		<div class="scrollblock block-remote">
			<h2>推送改动到服务器</h2>
			<p>
				你的改动现在已经在本地仓库的<b>HEAD</b>中了。<br/>
				执行如下命令以将这些改动提交到远端仓库：<code>git push origin master</code><br/>
				可以把<i>master</i>换成你想要推送的任何分支。<br/>
				不过，一般使用<code>git push</code>即可，它默认推送当前分支到服务器。<br/>
				当然，如果服务器上有比你本地更新的代码，那么推送就会失败，你必须先合并服务器上代码才能进行推送。
			</p>
		</div>
		<a name="update"></a>
		<div class="scrollblock block-merging">
			<h2>更新与合并</h2>
			<p>
				要更新你的本地仓库至最新改动，执行：<code>git pull</code><br/>
				以在你的工作目录中<i>获取（fetch）</i>并<i>合并（merge）</i>远端的改动。<br/>
				要合并其他分支到你的当前分支（例如 master），执行：<code>git merge &lt;branch&gt;</code><br/>
				在这两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现<i>冲突（conflicts）</i>。<br/>
				这时候就需要你修改这些文件来手动合并这些<i>冲突（conflicts）</i>。
				<br/>
				改完之后，你需要执行如下命令以将它们标记为合并成功：<code>git add &lt;filename&gt;</code><br/>
				在合并改动之前，你可以使用如下命令预览差异：<code>git diff &lt;source_branch&gt; &lt;target_branch&gt;</code><br/>
			</p>
		</div>
		<a name="branching"></a>
		<div class="scrollblock block-branching">
			<h2>分支</h2>
			<p>
				分支是用来将特性开发绝缘开来的。在你创建仓库的时候，<i>master</i>
				是“默认的”分支。在其他分支上进行开发，完成后再将它们合并到主分支上。
			</p>
			<img src="img/branches.png" alt=""/>
			<p>
				创建一个叫做“feature_x”的分支，并切换过去：<br/>
				<code>git checkout -b feature_x</code><br/>
				切换回主分支：<br/>
				<code>git checkout master</code><br/>
				再把新建的分支删掉：<br/>
				<code>git branch -d feature_x</code><br/>
				除非你将分支推送到远端仓库，不然该分支就是
				<i>不为他人所见的</i>：<br/>
				<code>git push origin &lt;branch&gt;</code>
			</p>
		</div>
		<a name="tagging"></a>
		<div class="scrollblock block-tagging">
			<h2>标签</h2>
			<p>
				为软件发布创建标签是推荐的。这个概念早已存在，在 SVN 中也有。你可以执行如下命令创建一个叫做
				<i>1.0.0</i>
				的标签：<br/>
				<code>git tag 1.0.0 1b2e1d63ff</code><br/>
				<i>1b2e1d63ff</i>
				是你想要标记的提交 ID 的前 10 位字符。可以使用下列命令获取提交 ID：<br/>
				<code>git log</code><br/>
				你也可以使用少一点的提交 ID 前几位，只要它的指向具有唯一性。
			</p>
		</div>
		<a name="log"></a>
		<div class="scrollblock block-log">
			<h2>log</h2>
			<p>
				如果你想了解本地仓库的历史记录，最简单的命令就是使用:
				<br/>
				<code>git log</code><br/>
				你可以添加一些参数来修改他的输出，从而得到自己想要的结果。 只看某一个人的提交记录:<br/>
				<code>git log --author=bob</code><br/>
				一个压缩后的每一条提交记录只占一行的输出:<br/>
				<code>git log --pretty=oneline</code><br/>
				或者你想通过 ASCII 艺术的树形结构来展示所有的分支, 每个分支都标示了他的名字和标签:
				<br/>
				<code>git log --graph --oneline --decorate --all</code><br/>
				看看哪些文件改变了:
				<br/>
				<code>git log --name-status</code><br/>
				这些只是你可以使用的参数中很小的一部分。更多的信息，参考：<br/>
				<code>git log --help</code><br/>
			</p>
		</div>
		<a name="checkout-replace"></a>
		<div class="scrollblock block-checkout-replace">
			<h2>替换本地改动</h2>
			<p>
				假如你操作失误（当然，这最好永远不要发生），你可以使用如下命令替换掉本地改动：<br/>
				<code>git checkout -- &lt;filename&gt;</code><br/>
				此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到暂存区的改动以及新文件都不会受到影响。
			</p>
			<p>
				假如你想丢弃你在本地的所有改动与提交，可以到服务器上获取最新的版本历史，并将你本地主分支指向它：<br/>
				<code>git fetch origin</code><br/>
				<code>git reset --hard origin/master</code>
			</p>
		</div>
		<a name="hints"></a>
		<div class="scrollblock block-hints">
			<h2>实用小贴士</h2>
			<p>
				内建的图形化 git：<br/>
				<code>gitk</code><br/>
				彩色的 git 输出：<br/>
				<code>git config color.ui true</code><br/>
				显示历史记录时，每个提交的信息只显示一行：<br/>
				<code>git config format.pretty oneline</code><br/>
				交互式添加文件到暂存区：<br/>
				<code>git add -i</code>
			</p>
		</div>
		<a name="resources"></a>
		<div class="scrollblock block-resources">
			<h2>链接与资源</h2>
			<h3>图形化客户端</h3>
			<p>
				<ul>
					<li>
						<a href="http://gitx.laullon.com/">GitX (L) (OSX, 开源软件)</a>
					</li>
					<li>
						<a href="http://www.git-tower.com/">Tower (OSX)</a>
					</li>
					<li>
						<a href="http://www.sourcetreeapp.com/">Source Tree (OSX, 免费)</a>
					</li>
					<li>
						<a href="http://mac.github.com/">GitHub for Mac (OSX, 免费)</a>
					</li>
					<li>
						<a href="https://itunes.apple.com/gb/app/gitbox/id403388357?mt=12">GitBox (OSX, App Store)</a>
					</li>
				</ul>
			</p>
			<h3>指南和手册</h3>
			<p>
				<ul>
					<li>
						<a href="http://book.git-scm.com/">Git 社区参考书</a>
					</li>
					<li>
						<a href="http://progit.org/book/">专业 Git</a>
					</li>
					<li>
						<a href="http://think-like-a-git.net/">像 git 那样思考</a>
					</li>
					<li>
						<a href="http://help.github.com/">GitHub 帮助</a>
					</li>
					<li>
						<a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">图解 Git</a>
					</li>
				</ul>
			</p>
		</div>
	</body>
</html>
